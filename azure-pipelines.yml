jobs:
- job: Linux
  pool:
    vmImage: 'ubuntu-latest'
  steps:
  - script: |
      echo Add Linux dependencies
      sudo apt-get install libncurses5-dev libncursesw5-dev
      curl -L https://raw.githubusercontent.com/lvandeve/lodepng/master/lodepng.cpp --output ./UNFLoader/Include/lodepng.c
      curl -L https://raw.githubusercontent.com/lvandeve/lodepng/master/lodepng.h --output ./UNFLoader/Include/lodepng.h
      
      curl -L https://www.ftdichip.com/Drivers/D2XX/Linux/libftd2xx-x86_64-1.4.8.gz --output libftd2xx.gz
      mkdir ./libftd2xx
      tar xvzf libftd2xx.gz -C ./libftd2xx
      cd ./libftd2xx/release/
      cp WinTypes.h ftd2xx.h $BUILD_SOURCESDIRECTORY/UNFLoader/Include/
      cd ./build
      cp libftd2xx.a $BUILD_SOURCESDIRECTORY/UNFLoader/Include/
      cd $BUILD_SOURCESDIRECTORY
      
      echo Build App
      cd ./UNFLoader/
      ls
      make -f Makefile
      #copy to artifacts directory

# - job: Windows
#   pool:
#     vmImage: 'windows-latest'
#   - script: |
#       echo Building



# - job: macOS
#   pool:
#     vmImage: 'macOS-latest'
#   steps:
#   - script: |
#       echo hello from macOS
